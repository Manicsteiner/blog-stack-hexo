---
title: Kaleido ADV Workshop Chara Tool
date: 2023-09-12 12:31:28
tags:
---
尝试分析了 _映画 五等分の花嫁～君と過ごした五つの思い出～_ 的角色立绘。  
```
  "crop": {
    "h": 1232,
    "w": 677,
    "x": 1022,
    "y": 648
  }
```
w，h分别为立绘主体的宽和高。x，y的用处在下文。  
```
 "imageList": [{
      "height": 1232,
      "label": "08_マルオ_27e6147c28dbd66fd3e2956483c2200a",
      "texture"......
      ......
      "width": 925
    }]
```
此字段下的width，height为底图的宽和高，label为文件名，其他字段没有用。  
```
  "eyediff": {
    "h": 38.0,
    "w": 183.0,
    "x": 1265.0,
    "y": 822.0
  }
```
这一字段描述眼部分支的情况，w，h分别是这一片的宽和高，但比实际数值少2，而且使用了float/double类型。  
x，y用于描述将该分支图片粘贴回立绘主体的位置，具体用法为 "target w=eyediff.x-crop.x-1, h=eyediff.y-crop.y-1" ，是否需要减一还需要确认。使用了float/double类型。  
```
  "eyediffbase": 678
```
从底图上取眼部分支片的起始横坐标。纵坐标为0。  
```
  "eyemap": {
    "目真剣": null,
    "目真剣1": 0,
    "目真剣2": 1,
    "目通常": 2,
    "目通常1": 3,
    "目通常2": 4
  }
```
描述每一个眼部分支的名称和排列顺序。null为在底图上，0为从eyediffbase起第一个，1，2，3依次向下移一个高度。  
```
  "lipdiff": {
    "h": 21.0,
    "w": 59.0,
    "x": 1328.0,
    "y": 946.0
  },
  "lipdiffbase": 864,
  "lipmap": {
    "口哀しみ": 0,
    "口哀しみ1": 1,
    "口哀しみ2": 2,
    "口真剣": 3,
    "口真剣1": 4,
    "口真剣2": 5,
    "口通常": null,
    "口通常1": 6,
    "口通常2": 7
  }
```
口部分支，与眼部分支相同。  
```
  "h": 1880,
  "id": "image",
  "label": "",
  "spec": "nx",
  "version": 1.0,
  "w": 2720
```
不知道有什么用。  
已知有没有眼部分支的立绘，需要判断。而且在map里给了三个眼部分支的名称，值却全是null。同时，口部分支是012，没有null。  
最终的代码过段时间摸出来。  